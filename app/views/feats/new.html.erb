<section class="container validate">
<h1>Validate Match</h1>
<div class="row">
  <div class="col-sm-5">
    <h2><%= @match.host_result %> <%= @match.host_team.user_name %></h2>
  </div>
  <div class="col-sm-2"><h2>VS</h2></div>
  <div class="col-sm-5">
    <h2><%= @match.visit_result %> <%= @match.visit_team.user_name %></h2>
  </div>
</div>

<div class="container">
  <% @match.feats.each do | feat | %>
    <% if feat.user_player != nil%>
      <% if feat.user_player.user_team_id == @match.host_team_id%>
        <div class="row">      
          <div class="col-sm-5">
            <%= feat.user_player.user_name %> - <%= feat.kind %>
          </div>
          <div class="col-sm-2"> </div>
      <% else %>
          <div class="col-sm-5">     
            <%= feat.user_player.user_name %> - <%= feat.kind %>
          </div>
        </div>
      <% end %>
    <% end %>
  <% end %>
</div>
<br>
<br>


<%= form_for @feat, url: society_championship_match_feats_path(society_id: params[:society_id], championship_id: params[:championship_id], match_id: params[:match_id]) do |form| %>

  <% if @feat.errors.any? %>
      <h2><%= pluralize(@feat.errors.count, "error") %> prohibited this user_team from being saved:</h2>

      <ul>
      <% @feat.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    <% end %>

  <div class="form-group">
    <%= form.label "Player" %><br>
    <%= form.collection_select(:user_player_id, @players, :id, :user_name, {},{class: "form-control"} ) %>
  </div>
  
  <div class="form-group">
    <%= form.label :kind%><br>
    <select name="kind" id="kind" class="form-control"  >
      <option value="injury">Injury</option>
      <option value="complentions">Complentions</option>
      <option value="touchdowns">Touchdowns</option>
      <option value="interceptions">Interceptions</option>
      <option value="casualties">Casualties</option>
      <option value="mpv">Most Value Player</option>
    </select>
  </div>

  <div class="form-group">
    <%= form.label "Number (Only if it's a casuality)" %>
    <%= form.number_field :kind_number, class: 'form-control' %>
  </div>
  
  <div class="buttoms-validate">
  <div class="form-group">
    <%= submit_tag "Validate", class: "btn btn-blood"  %>
  </div>
<% end %>

<%= button_to "Finish", {:controller => "matches", :action => "finished", :society_id => params["society_id"], :championship_id => params["championship_id"], :id => params["match_id"]}  , :method=>:post, class: "btn btn-blood"  %>
</div>

</section>
